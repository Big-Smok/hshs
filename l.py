import os
import random
import requests



def pro():
    proxy_list = """23.157.88.25:1080
42.118.1.26:16000
115.74.7.191:10009
27.79.199.26:16000
27.79.134.69:16000
27.79.198.25:16000
42.119.102.178:16000
138.68.60.8:80
27.79.174.216:16000
179.60.53.25:999
91.107.149.78:80
181.41.194.186:80
85.215.64.49:80
38.54.71.67:80
123.141.181.8:5031
139.59.1.14:80
159.203.61.169:3128
209.97.150.167:8080
161.35.70.249:8080
65.108.235.240:8888
185.192.111.18:8080
57.129.81.201:8080
32.223.6.94:80
50.122.86.118:80
50.172.150.134:80
123.141.181.7:5031
205.198.65.77:80
5.78.129.53:80
23.247.136.254:80
27.71.131.169:16000
27.71.134.210:16000
4.245.123.244:80
45.146.163.31:80
78.47.127.91:80
124.108.6.20:8085
59.7.246.4:80
108.141.130.146:80
134.209.29.120:80
42.113.21.250:16000
123.141.181.49:5031
62.99.138.162:80
189.202.188.149:80
80.120.49.242:80
203.99.240.182:80
194.219.134.234:80
203.99.240.179:80
194.5.195.50:80
213.143.113.82:80
103.75.119.185:80
143.42.66.91:80
123.141.181.1:5031
23.81.33.71:80
138.199.233.152:80
211.128.96.206:80
193.151.139.137:8080
27.71.130.8:16000
27.79.199.64:16000""".splitlines()
    j=[]
    for proxy in proxy_list:
        os.environ['HTTP_PROXY'] = proxy
        os.environ['HTTPS_PROXY'] = proxy
        print(f"Proxy set to: {proxy}")
        try:
            response = requests.get("https://httpbin.org/ip", timeout=10)
            #print("Response IP via proxy:", response.text.strip())
            j.append(proxy)
        except Exception as e:
            print("Request failed:", e)
    print(j)
pro()

# Now test if proxy is actually being used
